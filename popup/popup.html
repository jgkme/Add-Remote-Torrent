<!DOCTYPE html>
<html lang="en">
<head>
  <title>Add Remote Torrent</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/tailwind.css">
  <script src="../js/theme.js" defer></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      width: 350px; 
      /* Add any other global popup styles here if needed */
    }
  </style>
</head>
<body class="bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 p-4">
  <div class="container mx-auto">
    <header class="mb-4">
      <h2 class="text-xl font-semibold text-gray-800 dark:text-white text-center">Add Remote Torrent</h2>
    </header>

    <section class="mb-4">
      <label for="activeServerSelect" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Active Server:</label>
      <select id="activeServerSelect" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm">
        <option value="">Loading servers...</option>
        {/* Server options will be populated by popup.js */}
      </select>
    </section>

    <section id="activeServerDetails" class="mb-4 p-3 bg-gray-100 dark:bg-gray-700 rounded-md text-xs cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600" style="display:none;">
      <h4 class="font-semibold mb-1 text-gray-700 dark:text-gray-200">Active Server Details (click to open WebUI):</h4>
      <p><strong>Client:</strong> <span id="activeServerClientType" class="font-normal text-gray-600 dark:text-gray-300"></span></p>
      <p><strong>URL:</strong> <span id="activeServerUrl" class="font-normal text-gray-600 dark:text-gray-300"></span></p>
      <p><strong>Tags:</strong> <span id="activeServerTags" class="font-normal text-gray-600 dark:text-gray-300"></span></p>
      <p><strong>Category:</strong> <span id="activeServerCategory" class="font-normal text-gray-600 dark:text-gray-300"></span></p>
      <p><strong>Paused:</strong> <span id="activeServerPaused" class="font-normal text-gray-600 dark:text-gray-300"></span></p>
    </section>

    <section class="mb-4 p-3 bg-gray-100 dark:bg-gray-700 rounded-md text-xs">
      <p><strong>Last Action:</strong> <span id="lastActionStatus" class="font-normal text-gray-600 dark:text-gray-300">N/A</span></p>
      <div class="flex space-x-2 mt-2">
        <button id="clearLastActionStatusButton" class="px-2 py-1 text-xs bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-md" title="Clear last action status">Clear Status</button>
        <button id="reportIssueButton" class="px-2 py-1 text-xs bg-red-200 dark:bg-red-800 hover:bg-red-300 dark:hover:bg-red-700 text-red-700 dark:text-red-200 rounded-md" title="Report an issue on GitHub">Report Issue</button>
      </div>
    </section>
    
    <section id="manualAddSection" class="mb-4">
        <label for="manualUrlInput" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Manual Add (URL):</label>
        <div class="flex space-x-2">
            <input type="text" id="manualUrlInput" placeholder="Magnet or .torrent URL" class="grow px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm">
            <button id="manualAddButton" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-500 dark:hover:bg-blue-600 text-sm">Add</button>
        </div>
    </section>

    <button id="openOptionsButton" class="w-full mt-2 px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600">
      Manage Servers & Options
    </button>
  </div>
  <script src="popup.js"></script>
</body>
</html>
